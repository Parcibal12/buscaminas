<!-- Contenedor principal que se muestra solo si 'game' tiene datos -->
<div *ngIf="game">
  <!-- Mensaje de juego perdido -->
  <div *ngIf="game.isGameOver && !game.isWon" class="game-over-message">
    춰Boom! Has perdido...
  </div>
  <!-- Mensaje de juego ganado -->
  <div *ngIf="game.isWon" class="game-won-message">
    춰Felicidades! Ganaste
  </div>

  <!-- Contenedor de la cuadr칤cula del tablero -->
  <div class="board-grid"
       [style.gridTemplateColumns]="'repeat(' + (game.board[0]?.length || 0) + ', 30px)'"> <!-- Navegaci칩n segura a침adida -->
    <!-- Itera sobre las filas del tablero -->
    <div *ngFor="let row of game.board; let i = index" class="board-row">
      <!-- Itera sobre las celdas de cada fila -->
      <button
        *ngFor="let cell of row; let j = index"
        class="cell"
        [ngClass]="getCellClass(cell)"
        (click)="revealCell(i, j)"
        (contextmenu)="flagCell(i, j, $event)"
        [disabled]="game.isGameOver || cell.isRevealed"> <!-- Aseg칰rate que la etiqueta de apertura cierra aqu칤 con '>' -->
        <!-- Contenido de la celda -->
        <!-- Muestra el n칰mero de minas adyacentes si la celda est치 revelada, no es mina y tiene minas cerca -->
        <span *ngIf="cell.isRevealed && !cell.isMine && cell.adjacentMines > 0">
          {{ cell.adjacentMines }}
        </span>
        <!-- Muestra una bomba si la celda est치 revelada y es una mina -->
        <span *ngIf="cell.isRevealed && cell.isMine">游눢</span>
        <!-- Muestra una bandera si la celda no est치 revelada pero tiene una bandera -->
        <span *ngIf="!cell.isRevealed && cell.isFlagged">游뛀</span>
        <!-- Si no se cumple ninguna condici칩n anterior, el bot칩n estar치 vac칤o (celda oculta) -->
      </button> <!-- Etiqueta de cierre del bot칩n -->
    </div>
  </div>
  <!-- Bot칩n para iniciar un nuevo juego -->
  <button (click)="newGame()">Nuevo Juego</button>
</div>

<!-- Mensaje que se muestra mientras 'game' es null (cargando) -->
<div *ngIf="!game">
  Cargando juego...
</div>